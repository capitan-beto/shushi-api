FROM maven:3.9.7 AS build
WORKDIR /app
COPY pom.xml .
COPY src ./src
RUN mvn package



FROM openjdk:19
COPY --from=build app/target/*.jar app.jar
WORKDIR /app
CMD ["java", "-jar", "/app.jar"]

ENV db_username sushiDB_leavewind
ENV db_password 6f07a152c95c99a37368c622af3b1e5093ba8b72
ENV db_url jdbc:mysql://sushiDB_leavewind:6f07a152c95c99a37368c622af3b1e5093ba8b72@9es.h.filess.io:3307/sushiDB_leavewind
ENV private_key MIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQDGpm+samm2GF+/ZqQb7SaEVymz+ppc0CJwB4ny3wbnm14Z/YeYcKozAg1JRVAcKh577ZBpMD0KzuEq6mGJ/Rr159YqScE/LbXIoOR/tW+D65xasybV8mzeyvPLczm/irOITvcKv+TC4GVnCPsN3FaWNmmNMmfkyfXnusXnC6MBrxX3ALQry0AITouEMPJQb+qhgqF1FLwzutJJ8B/iOzbQ/qvOLf78kL09sexJhkz+Ou3EKgIXDthJmNJHORGaEqg2PsqkXzOi5e3lIViVNlD6pJfDJsihpbVlksnzWL1VuwHYB7M9t1KJoBScVdLDaKCd3HXruNk8ouKS6kQp367rAgMBAAECggEAV6ddI2EZICaFKTmrND9ifYbQegAcWNPmPjS1ZBuROmVOEn3SdStRjoxbPHd/L85OATUEQcXtSXWb2YnuXCr42ITh9WryAGS1D8Ae01NFz5oJNeRTQJhl/bDj/mPrmV8kdQMS8wVVdb/6Poqx7J3K/yEnVgxl14heH1BEvvxdgwHtDlqwl9GVd4ejPFAOkhB6KqvJBjULuj9AP53F2ztXMvzbumxHcPpq7ca/OauSLj55Gq8zQyC46tW5g343qoVOJBvFj90zUPa+9TX4W4qAC/OFyovOijvjgqF3PqmBZ/viAiDklE2ZaSgsieSp+3eVKtZyxho9chDF1YcRWl7WcQKBgQD2XRvv0HXfFB6pVk8ikaELskZV1gAp55kZB0pfjaNjnWm1sFL85iCYcIYUOyzt2WzF3UIY0IlZVdTSTURur5BrZFRgZIsf18UMrNvdXwYOg4oJhKvRjduNU+WWDpNtUlp2NvbPyO/+b/i0mdWaQKyCS+JUkGCymt4DxQ2YC3tLpwKBgQDOa4+vWpacc4fxTMiymfjP/7Oqsta6SDXQkgmdDX72icnFD9Cv7JoSEU3LMseI8o1TN2iuj9/YZymkgBfFYbEY9FFWpyG41xi8bcAusahAbNaoiSWZPTvcn1hgxnhvkYVj3PRuD1N3zhLm0Rw9ia3cL/yGIVC3/Tt6hN9/VFabHQKBgGX6dK34JFKLCYYe6/LrRTaKPQMa6kZuT7lEg0y6XH/HkRJcQn3c5HE1YsrNE/QApD3jMJEFAVWxab8DrOgEVEuf5C1icRRlRHPSudAQnXk0idcWy+iaR99gcxCCSBRgmoGEjvXDv1QbFV/srbaEPuRQdQd8HArSgEQfNVlSp17RAoGARLT8sItgklbKKwE51Gj3rpQYA3tficW7U98oIAR7/CfE5zjqZ4RDjDwCPt56GBVUARzyVRhCk89SxxRz1Rk9T2cTI9qhmNrPuvh0/ZXYwQj5MkPkJeuB31+SlTO6prgzRBgpq/CiAcCv/fAgjEMlgaLfVO4F5hf+EjvkAIfcA+kCgYBYYe+Sm8QOrLoZQUtLlaTBx8g6t2I7K37zuJRv7Y4SrdFFPDRZApMOBcyPVRLcWQ5oOzYcTOgX+ESnL7iurA8VWOoAQ9UzSTtpaTuGcTmHJziBA6zUIx3xr9R/Or3Rrk1qZgLWTDFtMklfPnjWPa+4CwJxZMdsxgbzrQY7CyRVyw==
ENV public_key MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAxqZvrGppthhfv2akG+0mhFcps/qaXNAicAeJ8t8G55teGf2HmHCqMwINSUVQHCoee+2QaTA9Cs7hKuphif0a9efWKknBPy21yKDkf7Vvg+ucWrMm1fJs3srzy3M5v4qziE73Cr/kwuBlZwj7DdxWljZpjTJn5Mn157rF5wujAa8V9wC0K8tACE6LhDDyUG/qoYKhdRS8M7rSSfAf4js20P6rzi3+/JC9PbHsSYZM/jrtxCoCFw7YSZjSRzkRmhKoNj7KpF8zouXt5SFYlTZQ+qSXwybIoaW1ZZLJ81i9VbsB2AezPbdSiaAUnFXSw2igndx167jZPKLikupEKd+u6wIDAQAB
